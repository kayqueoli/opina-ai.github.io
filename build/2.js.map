{"version":3,"sources":["../../src/pages/thankyou/thankyou.module.ts","../../src/pages/thankyou/thankyou.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ThankyouPage } from './thankyou';\n\n@NgModule({\n  declarations: [\n    ThankyouPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ThankyouPage),\n  ],\n})\nexport class ThankyouPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.module.ts","import { Questionary } from './../../providers/questionary/questionary';\nimport { Component } from '@angular/core';\nimport { AlertController, IonicPage, LoadingController, NavController, NavParams, MenuController } from 'ionic-angular';\nimport { AnswerProvider } from \"../../providers/answer/answer\";\nimport { Answer, AnswerNeighborhood } from \"../../providers/questionary/questionary\";\nimport { Prioritization } from \"../prioritization/prioritization\";\nimport { UserType } from \"../home/home\";\nimport { Storage } from \"@ionic/storage\";\n\n@IonicPage()\n@Component({\n  selector: 'page-thankyou',\n  templateUrl: 'thankyou.html',\n})\nexport class ThankyouPage {\n  answers: Answer[];\n  answersNeighborhoods: AnswerNeighborhood[];\n  prioritizations: Prioritization[];\n  questionary: Questionary = new Questionary();\n  totalQuestions: number;\n  loader: any;\n  userType: UserType;\n  progress: number;\n  points: number;\n  level: string;\n  levelImg: string = \"level0\";\n  personAnimation: string;\n  personQuote: any;\n  useGame: boolean = false;\n  form_url: string;\n\n  constructor(public menuCtrl: MenuController, public navCtrl: NavController, public navParams: NavParams, private answerProvider: AnswerProvider, public loadingCtrl: LoadingController, private alertCtrl: AlertController, private storage: Storage) {\n    this.storage.get('useGame').then(data => {\n      this.useGame = data;\n      if (this.useGame) {\n        this.resolvePerson();\n        this.form_url = \"https://bit.ly/avaliacao-gamificacao\";\n        // this.form_url = \"https://bit.ly/avaliacao-usabilidade-game\";\n      } else {\n        this.form_url = \"https://bit.ly/avaliacao-nao-gamificado\";\n        // this.form_url = \"https://bit.ly/avaliacao-usabilidade\";\n      }\n      this.storage.get('showForm').then(data => {\n        if (!data) {\n          let showFormCont = 1;\n          this.storage.set('showForm', showFormCont);\n          if (this.useGame) {\n            this.showForm();\n          } else {\n            this.showFormNotGame();\n          }\n        } else if (data < 3) {\n          data++;\n          this.storage.set('showForm', data);\n          if (this.useGame) {\n            this.showForm();\n          } else {\n            this.showFormNotGame();\n          }\n        }\n      });\n    });\n    this.getUserType();\n    this.points = navParams.get('points');\n    this.answers = navParams.get('answers');\n    this.answersNeighborhoods = navParams.get('answersNeighborhoods');\n    this.prioritizations = navParams.get('prioritizations');\n    this.progress = 100;\n    let questions = navParams.get('questions');\n    this.totalQuestions = questions.length;\n    this.questionary = navParams.get('questionary');\n    this.resolveLevel();\n  }\n\n  resolvePerson() {\n    this.personAnimation = \"gif-c-3-crop\";\n    this.personQuote =\n      'Por favor, nos ajude a avaliar a <strong>gamificação do aplicativo</strong> respondendo o '\n      + '<strong>formulário</strong>: '\n      + '<a *ngIf=\"useGame\" href=\"' + this.form_url + '\">Avaliação da Gamificação</a>';\n  }\n\n  talkAnimation() {\n    this.personAnimation = \"gif-c-2-crop\";\n    setTimeout(() => {\n      this.resolvePerson();\n    }, 10000);\n  }\n\n  resolveLevel() {\n    if (this.points > 0 && this.points <= 12) {\n      this.level = \"Bronze\";\n      this.levelImg = \"level1\";\n    }\n    if (this.points > 12 && this.points <= 21) {\n      this.level = \"Prata\";\n      this.levelImg = \"level2\";\n    }\n    if (this.points > 21) {\n      this.level = \"Ouro\";\n      this.levelImg = \"level3\";\n    }\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  help() {\n    let alert = this.alertCtrl.create({\n      title: '<div text-center>Nos ajude a avaliar o aplicativo!</div>',\n      message:\n        //----------------------MENSAGEM------------------\n        '<div class=\"alert-align-center\">'\n        + '<img class=\"img-alert\" src=\"assets/gifs/gif-c-4.webp\"/>'\n        + '</div>'\n        + '<div class=\"dialogue-box\"><div class=\"tdialogue-box-text\">'\n        + '<div text-center><strong>Ainda não acabou!</strong></div>'\n        + '<div text-center>Você pode responder outros <strong>questionários</strong> e continuar liberando as <strong>dicas de saúde mental</strong>!</div>'\n        + '<div text-center>Por favor, nos ajude a avaliar a <strong>gamificação do aplicativo</strong> respondendo o <strong>formulário: <a style=\"font-size:1.5rem\" href=\"' + this.form_url + '\"><strong>Avaliação da gamificação</strong></a></div>'\n        + '</div></div>',\n      //----------------------MENSAGEM------------------\n      buttons: [{\n        text: \"sair\",\n        handler: () => {\n          this.talkAnimation();\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  getUserType() {\n    this.storage.get('userType')\n      .then((data: UserType) => {\n        if (data != null) {\n          this.userType = data;\n        } else {\n          let userType = new UserType();\n          userType.id = null;\n          userType.name = null;\n          this.userType = userType;\n        }\n      })\n      .catch(() => {\n        let userType = new UserType();\n        userType.id = null;\n        userType.name = null;\n        this.userType = userType;\n      });\n  }\n\n  finishQuestionary() {\n    this.loader = this.loadingCtrl.create();\n    this.loader.present();\n    // this.answerProvider.insertAnswersData(this.answers, this.answersNeighborhoods, this.prioritizations, this.userType, this.useGame, this.points)\n    //   .then((data: boolean) => {\n    //     if (data != null) {\n    this.storage.set('points', this.points);\n    this.navCtrl.setRoot('QuestionariesListPage', {}).then(this.loader.dismiss());\n    //   } else {\n    //     let alert = this.alertCtrl.create({\n    //       title: 'Oops!',\n    //       message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n    //       buttons: [{\n    //         text: \"Tentar novamente\",\n    //         handler: () => {\n    //           this.finishQuestionary();\n    //         }\n    //       }]\n    //     });\n    //     alert.present();\n    //     this.loader.dismiss();\n    //   }\n    // })\n    // .catch((error) => {\n    // console.error(error);\n    // this.restProvider.sendGoogleAnalyticsErrorData(\n    //   'ThankyouPage',\n    //   'finishQuestionary',\n    //   error);\n    //   let alert = this.alertCtrl.create({\n    //     title: 'Oops!',\n    //     message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n    //     buttons: [{\n    //       text: \"Tentar novamente\",\n    //       handler: () => {\n    //         this.finishQuestionary();\n    //       }\n    //     }]\n    //   });\n    //   alert.present();\n    //   this.loader.dismiss();\n    // });\n  }\n\n  //Mensagem motivadora da narrativa\n  showForm() {\n    let alert = this.alertCtrl.create({\n      title: '<div text-center>Nos ajude a avaliar o aplicativo!</div>',\n      message:\n        //----------------------MENSAGEM------------------\n        '<div class=\"alert-align-center\"><img class=\"img-alert\" src=\"assets/gifs/gif-c-4.webp\"/></div>'\n        + '<div class=\"dialogue-box\"><div class=\"tdialogue-box-text\">'\n        + '<div><strong>Você utilizou a versão gamificada do aplicativo</strong></div>'\n        + '<div text-center>Por favor, nos ajude a avaliar a <strong>gamificação do aplicativo</strong> respondendo o <strong>formulário: <a style=\"font-size:1.5rem\" href=\"' + this.form_url + '\"><strong>Avaliação da gamificação</strong></a></div>'\n        + '<div text-center></div>'\n        + '</div></div>',\n      //----------------------MENSAGEM------------------\n      buttons: [{\n        text: \"sair\",\n        handler: () => {\n          this.talkAnimation();\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  //Mensagem motivadora da narrativa\n  showFormNotGame() {\n    let alert = this.alertCtrl.create({\n      title: '<div text-center>Nos ajude a avaliar o aplicativo!</div>',\n      message:\n        //----------------------MENSAGEM------------------\n        '<div class=\"tdialogue-box-text\">'\n        + '<div text-center>Por favor, nos ajude a avaliar a <strong>usabilidade do aplicativo</strong> respondendo o <strong>formulário: <a style=\"font-size:1.5rem\" href=\"' + this.form_url + '\"><strong>Avaliação da Usabilidade</strong></a></div>'\n        + '<div text-center></div>'\n        + '</div>',\n      //----------------------MENSAGEM------------------\n      buttons: [{\n        text: \"sair\",\n        handler: () => {\n          this.talkAnimation();\n        }\n      }]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.ts"],"sourceRoot":""}